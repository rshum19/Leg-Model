function [D,h,G,B] = Eval_Flight_DynFunc(X)

th1 = X(1);
th2 = X(2);
th3 = X(3);
l1 = X(4);
xf = X(5);
yf = X(6);
dth1 = X(7);
dth2 = X(8);
dth3 = X(9);
dl1 = X(10);
dxf = X(11);
dyf = X(12);
g = 9.81;

D = [      (909*l1^2)/1796 + 33/50, (594*l1*cos(th1 - th2))/2245, (135*l1*cos(th1 - th3))/898,                         0,      0,      0;...
     (594*l1*cos(th1 - th2))/2245,                  49857/89800,   (873*cos(th2 - th3))/4490, (594*sin(th1 - th2))/2245,      0,      0;...
       (135*l1*cos(th1 - th3))/898,    (873*cos(th2 - th3))/4490,                 23757/44900,  (135*sin(th1 - th3))/898,      0,      0;...
                                 0,    (594*sin(th1 - th2))/2245,    (135*sin(th1 - th3))/898,                  909/1796,      0,      0;...
                                 0,                            0,                           0,                         0, 449/20,      0;...
                                 0,                            0,                           0,                         0,      0, 449/20];
 

h = [      (9*l1*(132*sin(th1 - th2)*dth2^2 + 75*sin(th1 - th3)*dth3^2 + 505*dl1*dth1))/4490;...
 (873*sin(th2 - th3)*dth3^2)/4490 + (1188*dl1*dth1*cos(th1 - th2))/2245 - (594*dth1^2*l1*sin(th1 - th2))/2245;...
    (135*dl1*dth1*cos(th1 - th3))/449 - (873*dth2^2*sin(th2 - th3))/4490 - (135*dth1^2*l1*sin(th1 - th3))/898;...
                  - (594*dth2^2*cos(th1 - th2))/2245 - (135*dth3^2*cos(th1 - th3))/898 - (909*dth1^2*l1)/1796;...
                                                                                                 -(449*xf)/20;...
                                                                                                 -(449*yf)/20];
                          
G = [     0;...
          0;...
          0;...
          0;...
          0;...
 (449*g)/20];    

B = [ 0, 0, 0;...
       0, 0, 0;...
       0, 0, 0;...
       1, 0, 0;...
       0, 1, 0;...
       0, 0, 1];
end

